<!-- orders-wrapper -->
<div class="orders-wrapper py-8 lg:py-8 bg-secondary">
  <div class="container mx-auto px-4">
    <div class="flex">
      <div class="left w-1/4 hidden lg:block">
        <div class="profile-photo p-3 flex mb-3 bg-white">
          <img
            src="/img/profile-pic-male.svg"
            alt=""
            height="50px"
            width="50px"
          />

          <div class="profile-name pl-4 pt-2">
            <p class="profile-grettings">Hello,</p>
            <p class="font-semibold">
              <%=user.name.firstname %> <%=user.name.lastname %>
            </p>
          </div>
        </div>
        <div class="panel">
          <div class="panel-block bg-white">
            <a href="/customer/profile/" class="flex items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="#fe5f1e"
                class="h-6 w-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                />
              </svg>
              My Profile</a
            >
          </div>
          <div class="panel-block bg-primary">
            <a href="#" class="flex items-center text-white">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns:svgjs="http://svgjs.com/svgjs"
                version="1.1"
                width="24"
                height="24"
                x="0"
                y="0"
                viewBox="0 0 511.999 511.999"
                style="enable-background: new 0 0 512 512"
                xml:space="preserve"
              >
                <g>
                  <g xmlns="http://www.w3.org/2000/svg">
                    <g>
                      <path
                        d="M476.919,141.304l-0.379-0.655c-0.525-1.089-1.131-2.132-1.807-3.123L403.504,14.38C398.373,5.51,388.821,0,378.574,0    H133.437c-10.263,0-19.823,5.523-24.952,14.417l-72.39,125.586c-0.652,1.132-1.122,2.316-1.454,3.519    c-1.019,2.751-1.579,5.724-1.579,8.826v324.365c0,19.456,15.829,35.285,35.285,35.285h375.304    c19.456,0,35.285-15.829,35.285-35.285V151.159c0-0.435-0.013-0.867-0.036-1.297C479.104,146.975,478.478,143.998,476.919,141.304    z M271.518,30.011h106.358l56.032,96.873h-162.39V30.011z M134.136,30.011h107.371v96.873H78.296L134.136,30.011z     M448.925,476.714c0,2.908-2.366,5.274-5.274,5.274H68.347c-2.908,0-5.274-2.366-5.274-5.274V156.895h385.852V476.714z"
                        fill="#fff"
                        data-original="#000000"
                      />
                    </g>
                  </g>
                  <g xmlns="http://www.w3.org/2000/svg">
                    <g>
                      <path
                        d="M324.115,270.026c-5.859-5.859-15.361-5.859-21.221,0l-67.002,67.002l-25.764-25.764c-5.859-5.859-15.361-5.859-21.221,0    c-5.86,5.859-5.86,15.361,0,21.221l36.376,36.374c2.93,2.93,6.771,4.396,10.61,4.396c3.839,0,7.681-1.466,10.61-4.396    l77.612-77.612C329.975,285.387,329.975,275.886,324.115,270.026z"
                        fill="#fff"
                        data-original="#000000"
                      />
                    </g>
                  </g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                  <g xmlns="http://www.w3.org/2000/svg"></g>
                </g>
              </svg>

              Orders</a
            >
          </div>
          <div class="panel-block bg-white">
            <a href="#" class="flex items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="#fe5f1e"
                class="h-6 w-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"
                />
              </svg>
              Coupons
            </a>
          </div>
          <div class="panel-block bg-white">
            <a href="/logout" class="flex items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="#fe5f1e"
                class="w-6 h-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
                />
              </svg>
              Logout
            </a>
          </div>
        </div>
      </div>
      <% if(orders.length){ %>
      <div class="right lg:w-3/4 lg:ml-5 w-full boxshadow-none">
        <div class="lg:pt-2 text-lg font-semibold">All Orders</div>
        <% } else {%>
        <div
          class="
            right
            lg:w-3/4
            lg:ml-5
            w-full
            flex flex-col
            items-center
            text-center
            boxshadow-none
          "
        >
          <%} %>
          <div>
            <%if(messages.success){%>
            <div
              id="success-alert"
              class="
                flex
                items-center
                text-white
                bg-green-500
                text-md
                px-4
                py-2
                mb-4
              "
              role="alert"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                class="w-8 h-8 mr-2"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="{2}"
                  d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"
                />
              </svg>
              <p><%=messages.success%></p>
            </div>
            <%}%> <%if(orders.length){ %>
            <div
              class="
                grid
                gap-x-4 gap-y-4
                xl:gap-x-4 xl:gap-y-4
                md:grid-cols-2
                lg:grid-cols-1
                xl:grid-cols-2
                grid-cols-1 grid-flow-row
                pt-4
              "
            >
              <%} %> <%if(orders.length){ %> <% orders.map((order)=>{%>
              <div class="order-details bg-white py-3 px-3 xl:py-4 xl:px-6">
                <div class="order-content border-b mb-3">
                  <div class="sm:flex mb-2 justify-between">
                    <div class="mb-2 sm:mb-0">
                      <p class="text-sm font-semibold">Order Number</p>
                      <p class="text-sm text-primary uppercase order-id">
                        <%=order._id %>
                      </p>
                    </div>
                    <div class="sm:text-right">
                      <p class="text-sm font-semibold">Order Placed</p>
                      <p class="text-sm text-gray-500 pizzas-placedat">
                        <%=moment(order.createdAt).format('Do MMM YY') %>
                      </p>
                    </div>
                  </div>
                  <div class="flex pb-4 pt-2">
                    <div class="lg:w-64 xl:w-full">
                      <div class="mb-1">
                        <div class="pizzas-name">
                          <%for(let items of Object.values(order.items)){%>
                          <span class="text-sm"> <%=items.item.name%> </span>
                          <% } %>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="flex justify-between items-center">
                  <div class="w-full">
                    <a
                      href="/customer/orders/<%=order._id %>"
                      class="
                        inline-block
                        px-6
                        border-gray-400
                        btn-details
                        border
                        py-2
                        rounded
                        text-gray-500 text-sm
                      "
                      >View Details</a
                    >
                  </div>
                  <div>
                    <p class="text-sm sm:flex">
                      <span class="hidden">Status:</span>
                      <%if(order.status==="cancelled"){ %>
                      <span
                        class="
                          text-xs
                          font-semibold
                          inline-block
                          rounded
                          py-1
                          px-2.5
                          text-red-500
                          bg-red-200
                          uppercase
                          last:mr-0
                          mr-1
                        "
                      >
                        <%=order.status %></span
                      >
                      <%} %> <% if(order.status==="completed"){ %>
                      <span
                        class="
                          text-xs
                          font-semibold
                          inline-block
                          rounded
                          py-1
                          px-2.5
                          text-gray-500
                          bg-green-200
                          uppercase
                          ml-2
                        "
                      >
                        <%=order.status %></span
                      >
                      <%} %> <% if(order.status==="order_placed"){ %>
                      <span
                        class="
                          text-xs
                          font-semibold
                          rounded
                          inline-block
                          py-1
                          px-2.5
                          text-gray-500
                          bg-yellow200
                          uppercase
                          ml-2
                        "
                      >
                        <%=order.status %></span
                      >
                      <%} %> <% if(order.status==="prepared"){ %>
                      <span
                        class="
                          text-xs
                          font-semibold
                          inline-block
                          rounded
                          py-1
                          px-2.5
                          text-gray-500
                          bg-green-200
                          uppercase
                          ml-2
                        "
                      >
                        <%=order.status %></span
                      >
                      <%} %> <% if(order.status==="delivered"){ %>
                      <span
                        class="
                          text-xs
                          font-semibold
                          inline-block
                          rounded
                          py-1
                          px-2.5
                          text-gray-500
                          bg-green-200
                          uppercase
                          ml-2
                        "
                      >
                        <%=order.status %></span
                      >
                      <%} %> <% if(order.status==="confirmed"){ %>
                      <span
                        class="
                          text-xs
                          font-semibold
                          rounded
                          inline-block
                          py-1
                          px-2.5
                          text-gray-500
                          bg-yellow200
                          uppercase
                          ml-2
                        "
                      >
                        <%=order.status %></span
                      >
                      <%} %>
                    </p>
                  </div>
                </div>
              </div>

              <%}) %> <%} else{%>
              <div class="pt-10">
                <span class="block mb-5 mt-2 text-gray-600 text-lg">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    class="h-16 mx-auto"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    />
                  </svg>
                  No orders found!</span
                >
                <a
                  href="/#menu"
                  class="
                    inline-block
                    px-3
                    py-2
                    text-sm
                    lg:text-md
                    lg:px-6
                    bg-primary
                    lg:py-2.5
                    rounded-full
                    transition
                    duration-300
                    ease-in-out
                    hover:bg-primaryHover
                    text-white
                    shadow
                  "
                >
                  <div class="flex items-center">
                    Order Now
                    <img
                      src="/img/arrow-narrow-right.svg"
                      alt="go"
                      class="ml-2.5"
                    />
                  </div>
                </a>
              </div>
              <% }%>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
